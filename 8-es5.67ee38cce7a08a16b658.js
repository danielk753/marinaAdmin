(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{eAxk:function(e,t,n){"use strict";n.r(t);var l=n("8Y7J"),a=n("5yhm");class c{constructor(e,t){this.ticketsService=e,this.dialogService=t,this.tableStructure={columns:[{title:"ID",name:"id",editable:!1,type:"number",filter:!1},{title:"Aplicado",name:"aplicado",editable:!0,type:"toggle",filter:!1},{title:"Proveedor",name:"agente_id",editable:!0,type:"list",filter:!0},{title:"No. factura",name:"numero_factura",editable:!0,type:"number",filter:!0},{title:"Solicitud",name:"fecha_solicitud",editable:!0,type:"date",filter:!0},{title:"Enterega",name:"fecha_entrega",editable:!0,type:"date",filter:!0},{title:"Subtotal",name:"subtotal",editable:!0,type:"number",filter:!0},{title:"iva",name:"iva",editable:!0,type:"number",filter:!0},{title:"total",name:"total",editable:!0,type:"number",filter:!0}],buttons:{create:!0,delete:!0,update:!0}},this.errorsPerInput=[],this.messageSuccess=""}ngOnInit(){this.tickets=this.ticketsService.getTicket()}create(e,t){this.reset(),t.charginData++,this.ticketsService.createTicket(e).subscribe(e=>{t.charginData--,this.messageSuccess="Producto creado exitosamente",t.pushData(e)},e=>this.displayErrors(e,t))}update(e,t){this.reset(),t.charginData++,this.ticketsService.updateTicket(e).subscribe(e=>{t.charginData--,t.updateData(e),this.messageSuccess="Producto actualizado correctamente"},e=>this.displayErrors(e))}delete(e,t){this.dialogService.open(a.a,{context:{title:"\xa1Cuidado!",content:"Si elimina este registro, se perder\xe1 el historial de movimientos relacionados. \xbfDesea continuar?"}}).onClose.subscribe(n=>{n&&(this.reset(),t.charginData++,this.ticketsService.deleteTicket(e).subscribe(e=>{t.charginData--,this.messageSuccess="Producto eliminado correctamente",t.deleteData(e)},e=>{t.charginData--,this.displayErrors(e)}))})}reset(){this.errorsPerInput=[],this.messageSuccess="",setTimeout(()=>{this.errorsPerInput=[],this.messageSuccess=""},1e4)}displayErrors(e,t){t&&t.charginData--;for(const n in e.error.errors)this.errorsPerInput.push(e.error.errors[n])}setLists(e){e.lists.agente_id=this.ticketsService.getNameAgentes(),e.islists=!0}}class u{}var s=n("pMnS"),i=n("jXVt"),r=n("tKwJ"),b=n("SVse"),o=n("0ppS"),d=n("65g3"),p=n("IheW");let g=(()=>{class e{constructor(e){this.http=e}getTicket(){return this.http.get("http://api.vidamarinapuebla.com/api/tickets")}updateTicket(e){return this.http.put("http://api.vidamarinapuebla.com/api/tickets/"+e.id,e)}createTicket(e){return this.http.post("http://api.vidamarinapuebla.com/api/tickets",e)}deleteTicket(e){return this.http.delete("http://api.vidamarinapuebla.com/api/tickets/"+e.id)}getNameAgentes(){return this.http.get("http://api.vidamarinapuebla.com/api/tickets/nombresAgentes")}}return e.ngInjectableDef=l.ic({factory:function(){return new e(l.jc(p.c))},token:e,providedIn:"root"}),e})();var m=l.Gb({encapsulation:0,styles:[[""]],data:{}});function U(e){return l.ec(0,[(e()(),l.Ib(0,0,null,null,2,"nb-alert",[["closable",""],["status","success"]],[[2,"closable",null],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-success",null],[2,"status-info",null],[2,"status-warning",null],[2,"status-danger",null],[2,"status-basic",null],[2,"status-control",null],[2,"accent-primary",null],[2,"accent-success",null],[2,"accent-info",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-basic",null],[2,"accent-control",null],[2,"outline-primary",null],[2,"outline-success",null],[2,"outline-info",null],[2,"outline-warning",null],[2,"outline-danger",null],[2,"outline-basic",null],[2,"outline-control",null]],[[null,"close"]],(function(e,t,n){var l=!0;return"close"===t&&(l=!1!==(e.component.messageSuccess="")&&l),l}),i.u,i.d)),l.Hb(1,49152,null,0,r.A,[],{status:[0,"status"],closable:[1,"closable"]},{close:"close"}),(e()(),l.cc(2,0,[" ","\n"]))],(function(e,t){e(t,1,0,"success","")}),(function(e,t){var n=t.component;e(t,0,1,[l.Ub(t,1).closable,l.Ub(t,1).tiny,l.Ub(t,1).small,l.Ub(t,1).medium,l.Ub(t,1).large,l.Ub(t,1).giant,l.Ub(t,1).primary,l.Ub(t,1).success,l.Ub(t,1).info,l.Ub(t,1).warning,l.Ub(t,1).danger,l.Ub(t,1).basic,l.Ub(t,1).control,l.Ub(t,1).primaryAccent,l.Ub(t,1).successAccent,l.Ub(t,1).infoAccent,l.Ub(t,1).warningAccent,l.Ub(t,1).dangerAccent,l.Ub(t,1).basicAccent,l.Ub(t,1).controlAccent,l.Ub(t,1).primaryOutline,l.Ub(t,1).successOutline,l.Ub(t,1).infoOutline,l.Ub(t,1).warningOutline,l.Ub(t,1).dangerOutline,l.Ub(t,1).basicOutline,l.Ub(t,1).controlOutline]),e(t,2,0,n.messageSuccess)}))}function h(e){return l.ec(0,[(e()(),l.Ib(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.cc(1,null,[" - "," "]))],null,(function(e,t){e(t,1,0,t.context.$implicit)}))}function f(e){return l.ec(0,[(e()(),l.Ib(0,0,null,null,3,"nb-alert",[["closable",""],["status","danger"]],[[2,"closable",null],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-success",null],[2,"status-info",null],[2,"status-warning",null],[2,"status-danger",null],[2,"status-basic",null],[2,"status-control",null],[2,"accent-primary",null],[2,"accent-success",null],[2,"accent-info",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-basic",null],[2,"accent-control",null],[2,"outline-primary",null],[2,"outline-success",null],[2,"outline-info",null],[2,"outline-warning",null],[2,"outline-danger",null],[2,"outline-basic",null],[2,"outline-control",null]],[[null,"close"]],(function(e,t,n){var l=!0;return"close"===t&&(l=!1!==e.component.errorsPerInput.splice(e.context.index,1)&&l),l}),i.u,i.d)),l.Hb(1,49152,null,0,r.A,[],{status:[0,"status"],closable:[1,"closable"]},{close:"close"}),(e()(),l.xb(16777216,null,0,1,null,h)),l.Hb(3,278528,null,0,b.l,[l.eb,l.Y,l.B],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,1,0,"danger",""),e(t,3,0,t.context.$implicit)}),(function(e,t){e(t,0,1,[l.Ub(t,1).closable,l.Ub(t,1).tiny,l.Ub(t,1).small,l.Ub(t,1).medium,l.Ub(t,1).large,l.Ub(t,1).giant,l.Ub(t,1).primary,l.Ub(t,1).success,l.Ub(t,1).info,l.Ub(t,1).warning,l.Ub(t,1).danger,l.Ub(t,1).basic,l.Ub(t,1).control,l.Ub(t,1).primaryAccent,l.Ub(t,1).successAccent,l.Ub(t,1).infoAccent,l.Ub(t,1).warningAccent,l.Ub(t,1).dangerAccent,l.Ub(t,1).basicAccent,l.Ub(t,1).controlAccent,l.Ub(t,1).primaryOutline,l.Ub(t,1).successOutline,l.Ub(t,1).infoOutline,l.Ub(t,1).warningOutline,l.Ub(t,1).dangerOutline,l.Ub(t,1).basicOutline,l.Ub(t,1).controlOutline])}))}function S(e){return l.ec(0,[(e()(),l.xb(16777216,null,null,1,null,U)),l.Hb(1,16384,null,0,b.m,[l.eb,l.Y],{ngIf:[0,"ngIf"]},null),(e()(),l.xb(16777216,null,null,1,null,f)),l.Hb(3,278528,null,0,b.l,[l.eb,l.Y,l.B],{ngForOf:[0,"ngForOf"]},null),(e()(),l.Ib(4,0,null,null,9,"nb-card",[],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"status-basic",null],[2,"status-control",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-basic",null],[2,"accent-control",null]],null,null,i.x,i.g)),l.Hb(5,49152,null,0,r.hb,[],null,null),(e()(),l.Ib(6,0,null,0,2,"nb-card-header",[],null,null,null,i.z,i.i)),l.Hb(7,49152,null,0,r.kb,[],null,null),(e()(),l.cc(-1,0,["COMPRAS"])),(e()(),l.Ib(9,0,null,1,4,"nb-card-body",[],null,null,null,i.w,i.f)),l.Hb(10,49152,null,0,r.gb,[],null,null),(e()(),l.Ib(11,0,null,0,2,"app-data-table",[],null,[[null,"create"],[null,"update"],[null,"delete"],[null,"getList"]],(function(e,t,n){var a=!0,c=e.component;return"create"===t&&(a=!1!==c.create(n,l.Ub(e,12))&&a),"update"===t&&(a=!1!==c.update(n,l.Ub(e,12))&&a),"delete"===t&&(a=!1!==c.delete(n,l.Ub(e,12))&&a),"getList"===t&&(a=!1!==c.setLists(l.Ub(e,12))&&a),a}),o.b,o.a)),l.Hb(12,114688,[["dataTable",4]],0,d.a,[r.Mb],{tableStructure:[0,"tableStructure"],dataArrayInput:[1,"dataArrayInput"]},{create:"create",update:"update",delete:"delete",getList:"getList"}),l.Wb(131072,b.b,[l.j])],(function(e,t){var n=t.component;e(t,1,0,n.messageSuccess),e(t,3,0,n.errorsPerInput),e(t,12,0,n.tableStructure,l.dc(t,12,1,l.Ub(t,13).transform(n.tickets)))}),(function(e,t){e(t,4,1,[l.Ub(t,5).tiny,l.Ub(t,5).small,l.Ub(t,5).medium,l.Ub(t,5).large,l.Ub(t,5).giant,l.Ub(t,5).primary,l.Ub(t,5).info,l.Ub(t,5).success,l.Ub(t,5).warning,l.Ub(t,5).danger,l.Ub(t,5).basic,l.Ub(t,5).control,l.Ub(t,5).hasAccent,l.Ub(t,5).primaryAccent,l.Ub(t,5).infoAccent,l.Ub(t,5).successAccent,l.Ub(t,5).warningAccent,l.Ub(t,5).dangerAccent,l.Ub(t,5).basicAccent,l.Ub(t,5).controlAccent])}))}var y=l.Eb("app-compras",c,(function(e){return l.ec(0,[(e()(),l.Ib(0,0,null,null,1,"app-compras",[],null,null,null,S,m)),l.Hb(1,114688,null,0,c,[g,r.Mb],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),A=n("s7LF"),v=n("QQfA"),k=n("IP0z"),w=n("iInd"),I=n("zMNK"),z=n("/HVE"),O=n("hOhj"),D=n("l00W"),x=n("XoTT");n.d(t,"ComprasModuleNgFactory",(function(){return H}));var H=l.Fb(u,[],(function(e){return l.Rb([l.Sb(512,l.m,l.qb,[[8,[s.a,y]],[3,l.m],l.H]),l.Sb(4608,b.o,b.n,[l.D,[2,b.F]]),l.Sb(4608,A.p,A.p,[]),l.Sb(4608,v.d,v.d,[v.i,v.e,l.m,v.h,v.f,l.z,l.J,b.d,k.b,[2,b.i]]),l.Sb(5120,v.j,v.k,[v.d]),l.Sb(1073742336,b.c,b.c,[]),l.Sb(1073742336,w.p,w.p,[[2,w.u],[2,w.l]]),l.Sb(1073742336,r.Wb,r.Wb,[r.Vb]),l.Sb(1073742336,A.o,A.o,[]),l.Sb(1073742336,A.e,A.e,[]),l.Sb(1073742336,r.de,r.de,[]),l.Sb(1073742336,r.lb,r.lb,[]),l.Sb(1073742336,r.Yb,r.Yb,[]),l.Sb(1073742336,r.K,r.K,[]),l.Sb(1073742336,r.D,r.D,[]),l.Sb(1073742336,r.z,r.z,[]),l.Sb(1073742336,r.B,r.B,[]),l.Sb(1073742336,k.a,k.a,[]),l.Sb(1073742336,I.f,I.f,[]),l.Sb(1073742336,z.b,z.b,[]),l.Sb(1073742336,O.b,O.b,[]),l.Sb(1073742336,v.g,v.g,[]),l.Sb(1073742336,r.nb,r.nb,[]),l.Sb(1073742336,r.mb,r.mb,[]),l.Sb(1073742336,r.xc,r.xc,[]),l.Sb(1073742336,r.zb,r.zb,[]),l.Sb(1073742336,r.bd,r.bd,[]),l.Sb(1073742336,r.Cd,r.Cd,[]),l.Sb(1073742336,D.a,D.a,[]),l.Sb(1073742336,x.a,x.a,[r.Vb]),l.Sb(1073742336,u,u,[]),l.Sb(1024,w.j,(function(){return[[{path:"",component:c}]]}),[])])}))}}]);