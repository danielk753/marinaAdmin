(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"h2N+":function(e,t,n){"use strict";n.r(t);var l=n("8Y7J"),c=n("5yhm");class u{constructor(e,t){this.productoService=e,this.dialogService=t,this.tableStructure={columns:[{title:"ID",name:"id",editable:!1,type:"number",filter:!1},{title:"Nombre",name:"nombre",editable:!0,type:"text",filter:!0},{title:"C\xf3digo",name:"codigo_producto",editable:!0,type:"number",filter:!0},{title:"Marca",name:"marca",editable:!0,type:"text",filter:!0},{title:"Caducidad",name:"fecha_caducidad",editable:!0,type:"date",filter:!0},{title:"Ubicaci\xf3n",name:"ubicacion",editable:!0,type:"text",filter:!0},{title:"Medida",name:"unidad_medida",editable:!0,type:"text",filter:!0},{title:"Presentaci\xf3n",name:"presentacion",editable:!0,type:"text",filter:!0},{title:"Stock min",name:"stock_minimo",editable:!0,type:"number",filter:!0},{title:"Stock max",name:"stock_maximo",editable:!0,type:"number",filter:!0},{title:"Stock act",name:"stock_actual",editable:!0,type:"number",filter:!0},{title:"Costo",name:"costo",editable:!0,type:"number",filter:!0},{title:"Iva",name:"iva",editable:!0,type:"number",filter:!0},{title:"Precio",name:"precio",editable:!0,type:"number",filter:!0},{title:"Utilidad",name:"utilidad_bruta",editable:!0,type:"number",filter:!0},{title:"Descuento",name:"descuento",editable:!0,type:"number",filter:!0},{title:"Comisi\xf3n",name:"comision",editable:!0,type:"number",filter:!0},{title:"Imagen",name:"imagen",editable:!0,type:"file",filter:!1},{title:"Descripci\xf3n",name:"descripcion",editable:!0,type:"textarea",filter:!0}],buttons:{create:!0,delete:!0,update:!0}},this.errorsPerInput=[],this.messageSuccess=""}ngOnInit(){this.productos=this.productoService.getProductos()}create(e,t){this.reset(),t.charginData++,this.productoService.createProducto(e).subscribe(e=>{t.charginData--,this.messageSuccess="Producto creado exitosamente",t.pushData(e)},e=>this.displayErrors(e,t))}update(e,t){this.reset(),t.charginData++,this.productoService.updateProducto(e).subscribe(e=>{t.charginData--,t.updateData(e),this.messageSuccess="Producto actualizado correctamente"},e=>this.displayErrors(e))}delete(e,t){this.dialogService.open(c.a,{context:{title:"\xa1Cuidado!",content:"Si elimina este registro, se perder\xe1 el historial de movimientos relacionados al registro de ".concat((e.codigo_producto+"").toUpperCase(),". \xbfDesea continuar?")}}).onClose.subscribe(n=>{n&&(this.reset(),t.charginData++,this.productoService.deleteProducto(e).subscribe(e=>{t.charginData--,this.messageSuccess="Producto eliminado correctamente",t.deleteData(e)},e=>this.displayErrors(e)))})}reset(){this.errorsPerInput=[],this.messageSuccess="",setTimeout(()=>{this.errorsPerInput=[],this.messageSuccess=""},1e4)}displayErrors(e,t){t&&t.charginData--;for(const n in e.error.errors)this.errorsPerInput.push(e.error.errors[n])}}class a{}var i=n("pMnS"),r=n("jXVt"),s=n("tKwJ"),o=n("SVse"),b=n("0ppS"),d=n("65g3"),p=n("IheW");let m=(()=>{class e{constructor(e){this.http=e,this.server=localStorage.getItem("api")}getProductos(){return this.http.get(this.server+"api/productos")}updateProducto(e){return this.http.put(this.server+"api/productos/"+e.id,e)}createProducto(e){return this.http.post(this.server+"api/productos",e)}deleteProducto(e){return this.http.delete(this.server+"api/productos/"+e.id)}}return e.ngInjectableDef=l.ic({factory:function(){return new e(l.jc(p.c))},token:e,providedIn:"root"}),e})();var g=l.Gb({encapsulation:0,styles:[[""]],data:{}});function U(e){return l.ec(0,[(e()(),l.Ib(0,0,null,null,2,"nb-alert",[["closable",""],["status","success"]],[[2,"closable",null],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-success",null],[2,"status-info",null],[2,"status-warning",null],[2,"status-danger",null],[2,"status-basic",null],[2,"status-control",null],[2,"accent-primary",null],[2,"accent-success",null],[2,"accent-info",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-basic",null],[2,"accent-control",null],[2,"outline-primary",null],[2,"outline-success",null],[2,"outline-info",null],[2,"outline-warning",null],[2,"outline-danger",null],[2,"outline-basic",null],[2,"outline-control",null]],[[null,"close"]],(function(e,t,n){var l=!0;return"close"===t&&(l=!1!==(e.component.messageSuccess="")&&l),l}),r.w,r.e)),l.Hb(1,49152,null,0,s.A,[],{status:[0,"status"],closable:[1,"closable"]},{close:"close"}),(e()(),l.cc(2,0,[" ","\n"]))],(function(e,t){e(t,1,0,"success","")}),(function(e,t){var n=t.component;e(t,0,1,[l.Ub(t,1).closable,l.Ub(t,1).tiny,l.Ub(t,1).small,l.Ub(t,1).medium,l.Ub(t,1).large,l.Ub(t,1).giant,l.Ub(t,1).primary,l.Ub(t,1).success,l.Ub(t,1).info,l.Ub(t,1).warning,l.Ub(t,1).danger,l.Ub(t,1).basic,l.Ub(t,1).control,l.Ub(t,1).primaryAccent,l.Ub(t,1).successAccent,l.Ub(t,1).infoAccent,l.Ub(t,1).warningAccent,l.Ub(t,1).dangerAccent,l.Ub(t,1).basicAccent,l.Ub(t,1).controlAccent,l.Ub(t,1).primaryOutline,l.Ub(t,1).successOutline,l.Ub(t,1).infoOutline,l.Ub(t,1).warningOutline,l.Ub(t,1).dangerOutline,l.Ub(t,1).basicOutline,l.Ub(t,1).controlOutline]),e(t,2,0,n.messageSuccess)}))}function f(e){return l.ec(0,[(e()(),l.Ib(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.cc(1,null,[" - "," "]))],null,(function(e,t){e(t,1,0,t.context.$implicit)}))}function h(e){return l.ec(0,[(e()(),l.Ib(0,0,null,null,3,"nb-alert",[["closable",""],["status","danger"]],[[2,"closable",null],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-success",null],[2,"status-info",null],[2,"status-warning",null],[2,"status-danger",null],[2,"status-basic",null],[2,"status-control",null],[2,"accent-primary",null],[2,"accent-success",null],[2,"accent-info",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-basic",null],[2,"accent-control",null],[2,"outline-primary",null],[2,"outline-success",null],[2,"outline-info",null],[2,"outline-warning",null],[2,"outline-danger",null],[2,"outline-basic",null],[2,"outline-control",null]],[[null,"close"]],(function(e,t,n){var l=!0;return"close"===t&&(l=!1!==e.component.errorsPerInput.splice(e.context.index,1)&&l),l}),r.w,r.e)),l.Hb(1,49152,null,0,s.A,[],{status:[0,"status"],closable:[1,"closable"]},{close:"close"}),(e()(),l.xb(16777216,null,0,1,null,f)),l.Hb(3,278528,null,0,o.m,[l.eb,l.Y,l.B],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,1,0,"danger",""),e(t,3,0,t.context.$implicit)}),(function(e,t){e(t,0,1,[l.Ub(t,1).closable,l.Ub(t,1).tiny,l.Ub(t,1).small,l.Ub(t,1).medium,l.Ub(t,1).large,l.Ub(t,1).giant,l.Ub(t,1).primary,l.Ub(t,1).success,l.Ub(t,1).info,l.Ub(t,1).warning,l.Ub(t,1).danger,l.Ub(t,1).basic,l.Ub(t,1).control,l.Ub(t,1).primaryAccent,l.Ub(t,1).successAccent,l.Ub(t,1).infoAccent,l.Ub(t,1).warningAccent,l.Ub(t,1).dangerAccent,l.Ub(t,1).basicAccent,l.Ub(t,1).controlAccent,l.Ub(t,1).primaryOutline,l.Ub(t,1).successOutline,l.Ub(t,1).infoOutline,l.Ub(t,1).warningOutline,l.Ub(t,1).dangerOutline,l.Ub(t,1).basicOutline,l.Ub(t,1).controlOutline])}))}function S(e){return l.ec(0,[(e()(),l.xb(16777216,null,null,1,null,U)),l.Hb(1,16384,null,0,o.n,[l.eb,l.Y],{ngIf:[0,"ngIf"]},null),(e()(),l.xb(16777216,null,null,1,null,h)),l.Hb(3,278528,null,0,o.m,[l.eb,l.Y,l.B],{ngForOf:[0,"ngForOf"]},null),(e()(),l.Ib(4,0,null,null,9,"nb-card",[],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"status-basic",null],[2,"status-control",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-basic",null],[2,"accent-control",null]],null,null,r.z,r.h)),l.Hb(5,49152,null,0,s.hb,[],null,null),(e()(),l.Ib(6,0,null,0,2,"nb-card-header",[],null,null,null,r.B,r.j)),l.Hb(7,49152,null,0,s.kb,[],null,null),(e()(),l.cc(-1,0,["PRODUCTOS"])),(e()(),l.Ib(9,0,null,1,4,"nb-card-body",[],null,null,null,r.y,r.g)),l.Hb(10,49152,null,0,s.gb,[],null,null),(e()(),l.Ib(11,0,null,0,2,"app-data-table",[],null,[[null,"create"],[null,"update"],[null,"delete"]],(function(e,t,n){var c=!0,u=e.component;return"create"===t&&(c=!1!==u.create(n,l.Ub(e,12))&&c),"update"===t&&(c=!1!==u.update(n,l.Ub(e,12))&&c),"delete"===t&&(c=!1!==u.delete(n,l.Ub(e,12))&&c),c}),b.b,b.a)),l.Hb(12,114688,[["dataTable",4]],0,d.a,[s.Nb],{tableStructure:[0,"tableStructure"],dataArrayInput:[1,"dataArrayInput"]},{create:"create",update:"update",delete:"delete"}),l.Wb(131072,o.b,[l.j])],(function(e,t){var n=t.component;e(t,1,0,n.messageSuccess),e(t,3,0,n.errorsPerInput),e(t,12,0,n.tableStructure,l.dc(t,12,1,l.Ub(t,13).transform(n.productos)))}),(function(e,t){e(t,4,1,[l.Ub(t,5).tiny,l.Ub(t,5).small,l.Ub(t,5).medium,l.Ub(t,5).large,l.Ub(t,5).giant,l.Ub(t,5).primary,l.Ub(t,5).info,l.Ub(t,5).success,l.Ub(t,5).warning,l.Ub(t,5).danger,l.Ub(t,5).basic,l.Ub(t,5).control,l.Ub(t,5).hasAccent,l.Ub(t,5).primaryAccent,l.Ub(t,5).infoAccent,l.Ub(t,5).successAccent,l.Ub(t,5).warningAccent,l.Ub(t,5).dangerAccent,l.Ub(t,5).basicAccent,l.Ub(t,5).controlAccent])}))}var y=l.Eb("app-productos",u,(function(e){return l.ec(0,[(e()(),l.Ib(0,0,null,null,1,"app-productos",[],null,null,null,S,g)),l.Hb(1,114688,null,0,u,[m,s.Nb],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),A=n("s7LF"),I=n("QQfA"),v=n("IP0z"),w=n("iInd"),z=n("zMNK"),O=n("/HVE"),P=n("hOhj"),D=n("l00W"),x=n("XoTT");n.d(t,"ProductosModuleNgFactory",(function(){return H}));var H=l.Fb(a,[],(function(e){return l.Rb([l.Sb(512,l.m,l.qb,[[8,[i.a,y]],[3,l.m],l.H]),l.Sb(4608,o.p,o.o,[l.D,[2,o.G]]),l.Sb(4608,A.q,A.q,[]),l.Sb(4608,I.d,I.d,[I.i,I.e,l.m,I.h,I.f,l.z,l.J,o.e,v.b,[2,o.j]]),l.Sb(5120,I.j,I.k,[I.d]),l.Sb(1073742336,o.c,o.c,[]),l.Sb(1073742336,w.p,w.p,[[2,w.u],[2,w.l]]),l.Sb(1073742336,s.Zb,s.Zb,[s.Yb]),l.Sb(1073742336,A.p,A.p,[]),l.Sb(1073742336,A.f,A.f,[]),l.Sb(1073742336,s.ge,s.ge,[]),l.Sb(1073742336,s.lb,s.lb,[]),l.Sb(1073742336,s.bc,s.bc,[]),l.Sb(1073742336,s.K,s.K,[]),l.Sb(1073742336,s.D,s.D,[]),l.Sb(1073742336,s.z,s.z,[]),l.Sb(1073742336,s.B,s.B,[]),l.Sb(1073742336,v.a,v.a,[]),l.Sb(1073742336,z.f,z.f,[]),l.Sb(1073742336,O.b,O.b,[]),l.Sb(1073742336,P.b,P.b,[]),l.Sb(1073742336,I.g,I.g,[]),l.Sb(1073742336,s.nb,s.nb,[]),l.Sb(1073742336,s.mb,s.mb,[]),l.Sb(1073742336,s.Ac,s.Ac,[]),l.Sb(1073742336,s.zb,s.zb,[]),l.Sb(1073742336,s.ed,s.ed,[]),l.Sb(1073742336,s.Fd,s.Fd,[]),l.Sb(1073742336,D.a,D.a,[]),l.Sb(1073742336,x.a,x.a,[s.Yb]),l.Sb(1073742336,a,a,[]),l.Sb(1024,w.j,(function(){return[[{path:"",component:u}]]}),[])])}))}}]);